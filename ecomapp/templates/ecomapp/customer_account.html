{% extends 'ecomapp/base.html' %}

{% block content %}
  <h1 class="text-center">My Account</h1>

  <div class="row">
    <div class="col-md-6 offset-md-3">
      <form method="post" action="{% url 'update_account' %}">
        {% csrf_token %}
        <div class="form-group">
          <label for="first_name">First Name</label>
          <input type="text" class="form-control" id="first_name" name="first_name" value="{{ customer.first_name }}">
        </div>
        <div class="form-group">
          <label for="last_name">Last Name</label>
          <input type="text" class="form-control" id="last_name" name="last_name" value="{{ customer.last_name }}">
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" class="form-control" id="email" name="email" value="{{ customer.email }}">
        </div>
        <div class="form-group">
          <label for="phone">Phone</label>
          <input type="text" class="form-control" id="phone" name="phone" value="{{ customer.phone }}">
        </div>
        <div class="form-group">
          <label for="address">Address</label>
          <textarea class="form-control" id="address" name="address">{{ customer.address }}</textarea>
        </div>
        <div class="form-group">
          <label for="city">City</label>
          <input type="text" class="form-control" id="city" name="city" value="{{ customer.city }}">
        </div>
        <div class="form-group">
          <label for="state">State</label>
          <input type="text" class="form-control" id="state" name="state" value="{{ customer.state }}">
        </div>
        <div class="form-group">
          <label for="zip_code">Zip Code</label>
          <input type="text" class="form-control" id="zip_code" name="zip_code" value="{{ customer.zip_code }}">
        </div>
        <div class="form-group">
          <label for="country">Country</label>
          <input type="text" class="form-control" id="country" name="country" value="{{ customer.country }}">
        </div>
        <button type="submit" class="btn btn-primary">Save Changes</button>
      </form>

      {% if payment_methods %}
        <h3>Saved Payment Methods</h3>
        <ul>
        {% for payment_method in payment_methods %}
            <li><a href="#" data-name-on-card="{{ payment_method.name_on_card }}" data-card-number="{{ payment_method.card_number }}" data-expiration-date="{{ payment_method.expiration_date }}" data-security-code="{{ payment_method.security_code }}">{{ payment_method.name_on_card }} ending in {{ payment_method.card_number|slice:"-4:" }}</a></li>
        {% endfor %}
        </ul>
      {% endif %}
      </div>
  </div>
{% endblock %}
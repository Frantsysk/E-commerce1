{% extends 'ecomapp/base.html' %}

{% block content %}

<div class="container">

  <h2 class="my-4">Edit Product</h2>

  <form method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <div class="form-group">
      <label for="{{ form.name.id_for_label }}">Name:</label>
      {{ form.name }}
    </div>

    <div class="form-group">
      <label for="{{ form.price.id_for_label }}">Price:</label>
      {{ form.price }}
    </div>

    <div class="form-group">
      <label for="{{ form.image.id_for_label }}">Image:</label>
      {{ form.image }}
      <div class="mt-2">
        <img src="{{ form.image.value.url }}" width="200px">
      </div>
    </div>

    <div class="form-group">
      <label for="{{ form.description.id_for_label }}">Description:</label>
      {{ form.description }}
    </div>

    <div class="form-group">
      <label for="{{ form.brand.id_for_label }}">Brand:</label>
      {{ form.brand }}
    </div>

    <div class="form-group">
      <label for="{{ form.category.id_for_label }}">Category:</label>
      {{ form.category }}
    </div>

    <div class="form-group">
      <label for="{{ form.seller.id_for_label }}">Seller:</label>
      {{ form.seller }}
    </div>

    <div class="form-group">
      <label for="{{ form.quantity.id_for_label }}">Quantity:</label>
      {{ form.quantity }}
    </div>
    <h5> Video of the product</h5>
    {% if form.video.value %}
        <video width="400" controls>
          <source src="{{ form.video.value.url }}" type="video/mp4">
        </video>
    {% endif %}

    <div class="form-group">
      <label for="{{ form.video.id_for_label }}">Video:</label>
      {{ form.video }}
    </div>


    <h5> More images of the product</h5>
            <div class="row">
              {% for image in product.more_images.all %}
                <div class="col-md-4">
                  <img src="{{ image.file.url }}" alt="{{ product.name }}" class="img-fluid">
                </div>
              <a href="{% url 'remove_image' product.id image.id %}" class="btn-danger btn-sm mt-3"> Remove image </a>
              {% endfor %}
            </div>
     <hr>

    <div class="form-group">
      <label for="{{ form.attachments.id_for_label }}">Attachments:</label>
      {{ form.attachments }}
    </div>


    <button type="submit" class="btn btn-primary">Update Product</button>
  </form>

</div>

{% endblock %}
